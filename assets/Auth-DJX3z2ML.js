import{b as q,r as c,i as W,j as e,P as b,d as j,e as B,l as w,x as K,y as U}from"./index-BFhF30Zy.js";import{d as S,e as H,u as z,R as J,I as O,s as h,L as f,f as v,B as C}from"./label-D92Qoggg.js";import{C as Y,a as Q,b as X,c as Z,d as ee}from"./card-Cj191gNR.js";import{W as ae}from"./wallet-43KJmD2h.js";var x="Tabs",[se,de]=q(x,[S]),I=S(),[te,T]=se(x),F=c.forwardRef((s,i)=>{const{__scopeTabs:r,value:o,onValueChange:l,defaultValue:d,orientation:t="horizontal",dir:u,activationMode:p="automatic",...g}=s,a=H(u),[n,m]=W({prop:o,onChange:l,defaultProp:d??"",caller:x});return e.jsx(te,{scope:r,baseId:z(),value:n,onValueChange:m,orientation:t,dir:a,activationMode:p,children:e.jsx(b.div,{dir:a,"data-orientation":t,...g,ref:i})})});F.displayName=x;var R="TabsList",D=c.forwardRef((s,i)=>{const{__scopeTabs:r,loop:o=!0,...l}=s,d=T(R,r),t=I(r);return e.jsx(J,{asChild:!0,...t,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(b.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:i})})});D.displayName=R;var A="TabsTrigger",E=c.forwardRef((s,i)=>{const{__scopeTabs:r,value:o,disabled:l=!1,...d}=s,t=T(A,r),u=I(r),p=P(t.baseId,o),g=k(t.baseId,o),a=o===t.value;return e.jsx(O,{asChild:!0,...u,focusable:!l,active:a,children:e.jsx(b.button,{type:"button",role:"tab","aria-selected":a,"aria-controls":g,"data-state":a?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p,...d,ref:i,onMouseDown:j(s.onMouseDown,n=>{!l&&n.button===0&&n.ctrlKey===!1?t.onValueChange(o):n.preventDefault()}),onKeyDown:j(s.onKeyDown,n=>{[" ","Enter"].includes(n.key)&&t.onValueChange(o)}),onFocus:j(s.onFocus,()=>{const n=t.activationMode!=="manual";!a&&!l&&n&&t.onValueChange(o)})})})});E.displayName=A;var L="TabsContent",_=c.forwardRef((s,i)=>{const{__scopeTabs:r,value:o,forceMount:l,children:d,...t}=s,u=T(L,r),p=P(u.baseId,o),g=k(u.baseId,o),a=o===u.value,n=c.useRef(a);return c.useEffect(()=>{const m=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(B,{present:l||a,children:({present:m})=>e.jsx(b.div,{"data-state":a?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!m,id:g,tabIndex:0,...t,ref:i,style:{...s.style,animationDuration:n.current?"0s":void 0},children:m&&d})})});_.displayName=L;function P(s,i){return`${s}-trigger-${i}`}function k(s,i){return`${s}-content-${i}`}var ie=F,M=D,$=E,V=_;const ne=ie,G=c.forwardRef(({className:s,...i},r)=>e.jsx(M,{ref:r,className:w("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i}));G.displayName=M.displayName;const y=c.forwardRef(({className:s,...i},r)=>e.jsx($,{ref:r,className:w("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...i}));y.displayName=$.displayName;const N=c.forwardRef(({className:s,...i},r)=>e.jsx(V,{ref:r,className:w("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i}));N.displayName=V.displayName;const ue=()=>{const s=K(),{toast:i}=U(),[r,o]=c.useState(!1),[l,d]=c.useState({email:"",password:""}),[t,u]=c.useState({email:"",password:"",fullName:""});c.useEffect(()=>{h.auth.getSession().then(({data:{session:n}})=>{n&&s("/")});const{data:{subscription:a}}=h.auth.onAuthStateChange((n,m)=>{n==="SIGNED_IN"&&m&&s("/")});return()=>a.unsubscribe()},[s]);const p=async a=>{a.preventDefault(),o(!0);const{error:n}=await h.auth.signInWithPassword({email:l.email,password:l.password});i(n?{title:"Login Failed",description:n.message,variant:"destructive"}:{title:"Welcome back!",description:"You have successfully logged in."}),o(!1)},g=async a=>{a.preventDefault(),o(!0);const{error:n}=await h.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.fullName},emailRedirectTo:`${window.location.origin}/`}});i(n?{title:"Signup Failed",description:n.message,variant:"destructive"}:{title:"Account Created!",description:"Welcome to Smart Finance Tracker."}),o(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-primary/5 to-background p-4",children:e.jsxs(Y,{className:"w-full max-w-md",children:[e.jsxs(Q,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(ae,{className:"w-8 h-8 text-primary"})})}),e.jsx(X,{className:"text-2xl font-bold",children:"Smart Finance Tracker"}),e.jsx(Z,{children:"Manage your expenses and investments"})]}),e.jsx(ee,{children:e.jsxs(ne,{defaultValue:"login",className:"w-full",children:[e.jsxs(G,{className:"grid w-full grid-cols-2",children:[e.jsx(y,{value:"login",children:"Login"}),e.jsx(y,{value:"signup",children:"Sign Up"})]}),e.jsx(N,{value:"login",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"login-email",children:"Email"}),e.jsx(v,{id:"login-email",type:"email",placeholder:"you@example.com",value:l.email,onChange:a=>d({...l,email:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"login-password",children:"Password"}),e.jsx(v,{id:"login-password",type:"password",placeholder:"••••••••",value:l.password,onChange:a=>d({...l,password:a.target.value}),required:!0})]}),e.jsx(C,{type:"submit",className:"w-full",disabled:r,children:r?"Logging in...":"Login"})]})}),e.jsx(N,{value:"signup",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-name",children:"Full Name"}),e.jsx(v,{id:"signup-name",type:"text",placeholder:"John Doe",value:t.fullName,onChange:a=>u({...t,fullName:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-email",children:"Email"}),e.jsx(v,{id:"signup-email",type:"email",placeholder:"you@example.com",value:t.email,onChange:a=>u({...t,email:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-password",children:"Password"}),e.jsx(v,{id:"signup-password",type:"password",placeholder:"••••••••",value:t.password,onChange:a=>u({...t,password:a.target.value}),required:!0,minLength:6})]}),e.jsx(C,{type:"submit",className:"w-full",disabled:r,children:r?"Creating account...":"Sign Up"})]})})]})})]})})};export{ue as default};
